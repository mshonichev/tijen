---
- job:
    name: Release
    project-type: folder
- job:
    name: Release/Util
    project-type: folder
- job:
    name: Release/Util/util-create-ignite-release-tasks
    description: 'This job generates Jenkins tasks for Apache Ignite release\n'
    display-name: [util] Create AI release tasks
    scm:
#      - name: tiden
#        scm:
      - git:
          url: https://github.com/ggprivate/tiden.git
          branches:
            - */master
          credentials-id: mshonichev
          timeout: 20
          basedir: tiden
#      - git:
#          url: https://github.com/mshonichev/tijen.git
#          branches:
#              - origin/master
#          credentials-id: mshonichev
#          timeout: 20
#          basedir: tijen
    parameters:
      - string:
          name: IGNITE_VERSION
          description: "Apache Ignite version, e.g. 2.5.1"
    builders:
    - shell: |
        cd tiden
        util/prepare_work_directory.sh
    - shell: |
        pwd
        ls -1 tiden/suites
        python3 run-tests.py --help
#    - dsl:
#        target: "*.groovy"
#        ignore-existing: "false"
#        removed-job-action: "DISABLE"
#        removed-view-action: "DELETE"
#        lookup-strategy: "SEED_JOB"
